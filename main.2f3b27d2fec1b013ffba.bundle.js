(()=>{"use strict";var e,t={485:(e,t,s)=>{s(260);const a="rgb(240, 240, 240)";class i extends Phaser.Scene{constructor(){super({key:"PreloadScene"})}preload(){this.showProgress(),this.preloadButtons(),this.preloadBalls(),this.preloadThemes(),this.preloadSprites(),this.preloadAudio()}create(){this.scene.start("StartScene")}showProgress(){const e=this.add.graphics();e.fillStyle(16777215,1);const t=e.fillRect(360,540,0,30),s=this.add.text(360,525,"0%",{fontFamily:"MilkyHoney",fontSize:"40px",color:"#ababab"});s.setOrigin();const a=this.add.text(360,560,"0%",{fontFamily:"MilkyHoney",fontSize:"25px",color:"#ababab"});a.setOrigin(),this.load.on("progress",(function(e){t.fillRect(235,590,250*e,30),s.setText(Math.floor(100*e)+"%")})),this.load.on("fileprogress",(function(e){a.setText("Loading "+e.type+": "+e.key+" "+(e.bytesTotal/1024).toFixed(2)+"KB")})),this.load.on("complete",(()=>{e.destroy(),s.destroy(),a.destroy(),t.destroy()}))}preloadButtons(){this.load.setPath("assets/images/buttons/"),this.load.image("close","Close.png"),this.load.image("close","Divide.png"),this.load.image("close","Facebook.png"),this.load.image("f-left","ForwardLeft.png"),this.load.image("f-right","ForwardRight.png"),this.load.image("game-pad","GamePad.png"),this.load.image("google","Google.png"),this.load.image("heart","Heart.png"),this.load.image("home","Home.png"),this.load.image("ig","Instagram.png"),this.load.image("ad","ad.png"),this.load.image("return","return.png"),this.load.image("trophy","Trophy.png"),this.load.image("trash","Trash.png"),this.load.image("sound-on","sound-on.png"),this.load.image("sound-off","sound-off.png"),this.load.image("light-on","light-on.png"),this.load.image("light-off","light-off.png"),this.load.image("shop","Shop.png"),this.load.image("share","Share.png"),this.load.image("settings","Settings.png"),this.load.image("right","Right.png"),this.load.image("retry","Retry.png"),this.load.image("question","Question.png"),this.load.image("pow-up","PowerUp.png"),this.load.image("left","Left.png"),this.load.image("menu","Menu.png"),this.load.image("msg","Message.png"),this.load.image("music","Music.png"),this.load.image("minus","Minus.png"),this.load.image("pause","Pause.png"),this.load.image("play","Play.png"),this.load.image("plus","Plus.png"),this.load.image("free-gift","FreeGift.png"),this.load.image("drag-it","DragIt.png"),this.load.image("customize","customize.png"),this.load.image("challenge","challenge.png"),this.load.image("leaderboard","Leaderboard.png"),this.load.image("leader-board","leader-board.png"),this.load.image("main-menu","mainmenu.png"),this.load.image("resume","resume.png")}preloadBalls(){this.load.setPath("assets/images/colorful-balls/"),this.load.image("ball_1","1.png"),this.load.image("ball_2","2.png"),this.load.image("ball_3","3.png"),this.load.image("ball_4","4.png"),this.load.image("ball_5","5.png"),this.load.image("ball_6","6.png"),this.load.image("ball_7","7.png"),this.load.image("ball_8","8.png"),this.load.image("ball_9","9.png"),this.load.image("ball_10","10.png"),this.load.image("ball_11","11.png"),this.load.image("ball_12","12.png"),this.load.image("ball_locked","Locked.png")}preloadSprites(){this.load.setPath("assets/images/sprites/"),this.load.image("dot","Dot_0.png"),this.load.image("ball","ball.png"),this.load.image("hoop-down","hoop_1.png"),this.load.image("hoop-up","hoop_2.png"),this.load.image("basket","basket.png"),this.load.image("logo","logo.png"),this.load.image("net","net.png"),this.load.image("star","star.png")}preloadThemes(){this.load.setPath("assets/images/theme-game-mode/"),this.load.image("bg_0","0/bg_0.png"),this.load.image("bg_1","1/bg_1.png"),this.load.image("bg_2","2/bg_2.png"),this.load.image("wall_0","0/wall_0.png"),this.load.image("wall_1","1/wall_1.png"),this.load.image("wall_2","2/wall_2.png"),this.load.image("theme_0","0.png"),this.load.image("theme_1","1.png"),this.load.image("theme_2","2.png"),this.load.image("theme_3","3.png"),this.load.image("theme_4","4.png"),this.load.image("check","check.png"),this.load.image("check","popup.png")}preloadAudio(){this.load.setPath("assets/audio/"),this.load.audio("bounce","Bounce.wav"),this.load.audio("click","Click.wav"),this.load.audio("game-over","GameOver.wav"),this.load.audio("net","Net.wav"),this.load.audio("shoot","Shoot.mp3")}}class o extends Phaser.Physics.Arcade.Sprite{constructor(e){super(e.scene,e.x,e.y,e.key),this.setOrigin(.5,.5),this.scale=e.scale?e.scale:1,this.setScale(e.scale),this.body=this.body}}class n extends o{constructor(e){var t;super(e),this.elapsed=0,this.isMoving=!1,this.scene.physics.add.existing(this),this.disableBody(!0,!0),this.setVisible(!0),this.setCollideWorldBounds(!0,1,0,!0),null===(t=this.body)||void 0===t||t.setCircle(this.width/2),this.scene.add.existing(this)}getIsMoving(){return this.isMoving}flyDemo(){this.rotation+=.05;let e=this.elapsed/3500;const t=110+e*(2*(1-e)*90+470*e),s=900+e*(2*(1-e)*-900+-330*e);this.x=t,this.y=s,t>=580&&s>=570&&(e=0,this.elapsed=0),this.elapsed+=this.scene.game.loop.delta}fly(e,t,s,a){var i;this.isMoving=!0,this.rotation+=.5;const o=Math.max(50,35*a);this.enableBody(!0,e,t,!0,!0),this.setVelocity(o*Math.cos(s),-o*Math.sin(s)),this.scene.physics.velocityFromRotation(-s,o,null===(i=this.body)||void 0===i?void 0:i.velocity)}resetPosition(e,t){this.setX(e),this.setY(t),this.setVelocity(0,0),this.reset(),this.isMoving=!1}reset(){this.disableBody(!0,!1)}}class l extends Phaser.GameObjects.Container{constructor(e){super(e.scene,e.x,e.y),this.scaleRatio=e.scale,this.button=e.scene.add.sprite(0,0,e.key).setInteractive(),this.add(this.button),this.text=e.scene.add.text(0,0,e.text,{color:"#ffffff",fontSize:"27px",fontFamily:"Roboto",fontStyle:"bold"}),this.text.setOrigin(.5),this.add(this.text),this.callback=e.callback,e.scene.add.existing(this),this.button.on("pointerdown",this.onPointerDown,this),this.button.on("pointerup",this.onPointerUp,this),this.button.on("pointerout",this.onPointerOut,this),this.button.setScale(this.scaleRatio)}onPointerDown(){this.button.setScale(.9*this.scaleRatio)}onPointerUp(){this.button.setScale(this.scaleRatio),this.callback()}onPointerOut(){this.button.setScale(this.scaleRatio)}}class h extends Phaser.GameObjects.Image{constructor(e){super(e.scene,e.x,e.y,e.key,e.frame),this.scaleRatio=e.scale?e.scale:1,this.setScale(this.scaleRatio),e.scene.add.existing(this)}}class c extends h{constructor(e){super(e),this.setInteractive(),this.on("pointerdown",this.onPointerDown,this),this.on("pointerup",this.onPointerUp,this),this.on("pointerout",this.onPointerOut,this),this.setScale(this.scaleRatio),this.callback=e.callback}onPointerDown(){this.setScale(.9*this.scaleRatio)}onPointerUp(){this.setScale(this.scaleRatio),this.callback()}onPointerOut(){this.setScale(this.scaleRatio)}enableOscillator(){this.scene.tweens.add({targets:this,scaleX:.25,scaleY:.25,yoyo:!0,repeat:-1,duration:1e3,ease:"Quad.easeInOut"})}}class r extends Phaser.GameObjects.Text{constructor(e){super(e.scene,e.x,e.y,e.msg,e.style),this.setOrigin(.5),this.scene.add.existing(this)}}class d extends Phaser.Scene{constructor(){super({key:"StartScene"})}create(){this.cameras.main.fadeIn(500,0,0,0),new c({scene:this,x:50,y:50,key:"settings",callback:()=>{this.scene.start("SettingScene",{data:"StartScene"})},scale:.2*1.5}),new c({scene:this,x:160,y:50,key:"leaderboard",callback:this.getFreeGift,scale:.36}),new h({scene:this,x:630,y:50,key:"star",scale:.48}),new r({scene:this,x:680,y:50,msg:localStorage.getItem("star")||"0",style:{fontFamily:"MilkyHoney",fontSize:"45px",color:"black",strokeThickness:3}}),new h({scene:this,x:360,y:370,key:"logo",scale:.48}),new h({scene:this,x:110,y:880,key:"basket",scale:.75}).setDepth(2),new h({scene:this,x:580,y:570,key:"basket",scale:.75}).setDepth(2),this.ball=new n({scene:this,x:110,y:900,key:"ball",scale:.2}).setDepth(1),new c({scene:this,x:100,y:990,key:"drag-it",callback:()=>{this.scene.start("PlayScene")},scale:.3*1.5}).enableOscillator(),new l({scene:this,x:530,y:820,key:"free-gift",text:"FREE GIFT!",scale:.3*1.5,callback:this.getFreeGift}),new l({scene:this,x:530,y:920,key:"customize",text:"",scale:.2*1.5,callback:this.getFreeGift}),new l({scene:this,x:530,y:1020,key:"challenge",text:"",scale:.3*1.5,callback:this.getFreeGift})}update(){this.ball.flyDemo()}getFreeGift(){console.log("free gift!!")}}class g extends o{constructor(e){super(e),this.setInteractive(),this.scene.physics.add.existing(this),this.disableBody(!0,!0),this.setVisible(!0),this.scene.add.existing(this)}}class p extends o{constructor(e){super(e),this.setInteractive(),e.callback&&(this.callback=e.callback),this.scene.physics.add.existing(this),this.shootAudio=this.scene.sound.add("shoot"),this.scene.add.existing(this)}setTrajectory(e,t){this.trajectory=[],this.points=this.scene.add.graphics(),this.points.fillStyle(16753920,1);for(let s=0;s<8;s++){const a=s/40,i=this.x+e*Math.cos(t)*a,o=this.y-e*Math.sin(t)*a+4.9*Math.pow(a,2);this.trajectory.push({x:i,y:o})}for(let e=0;e<8;e++){const t=this.trajectory[e];this.points.fillCircle(t.x,t.y,10)}const s=this.scene.tweens.add({targets:this.points,alpha:0,duration:280});s.setCallback("onComplete",(function(){s.destroy()}),[])}transition(e,t,s){this.scene.tweens.add({targets:e,x:t,y:s,duration:1e3,ease:"easeInOutExpo",onComplete:()=>{console.log("Object move complete!")}})}resetPosition(e){const t=this.y>540?Math.floor(441*Math.random())+100:Math.floor(491*Math.random())+540;this.transition(this,this.x,t),e instanceof n?this.transition(e,this.x,t):e instanceof g&&(this.transition(e,this.x,t-70),e.setAlpha(1)),this.angle=0}reset(){this.angle=0}}class y extends Phaser.GameObjects.TileSprite{constructor(e){super(e.scene,e.x,e.y,e.w,e.h,e.key),this.scaleRatio=e.scale?e.scale:1,this.setScale(this.scaleRatio),e.scene.add.existing(this)}}let m=!0;class u extends Phaser.Scene{constructor(){super({key:"PlayScene"}),this.isGameEnd=!1,this.score=0,localStorage.getItem("star")?this.starCnt=parseInt(localStorage.getItem("star")):(localStorage.setItem("star","0"),this.starCnt=0)}preload(){}create(){this.score=0,this.isGameEnd=!1,this.starCnt=0,this.netAudio=this.sound.add("net"),this.shootAudio=this.sound.add("shoot"),this.clickAudio=this.sound.add("click"),this.bounceAudio=this.sound.add("bounce"),this.gameOverAudio=this.sound.add("game-over"),this.background=new y({scene:this,x:360,y:540,w:2048,h:2048,key:"wall_0",scale:.5}),new h({scene:this,x:360,y:540,key:"bg_0"}).setAlpha(.6).setScale(1),this.pauseImg=new c({scene:this,x:80,y:50,key:"pause",callback:()=>{this.scene.switch("PauseScene")},scale:.12}),this.starImg=new h({scene:this,x:630,y:50,key:"star",scale:.32}),this.scoreText=new r({scene:this,x:680,y:50,msg:this.starCnt.toString(),style:{fontFamily:"MilkyHoney",fontSize:"45px",color:"black",strokeThickness:3}}),this.curScoreText=new r({scene:this,x:360,y:420,msg:this.score.toString(),style:{fontSize:"150px",color:"#ababab",fontStyle:"bold"}}),this.star=new g({scene:this,x:630,y:50,key:"star",scale:.32}),this.curBasket=new p({scene:this,x:130,y:740,key:"basket",callback:(e,t,s,a)=>{this.ball.fly(e,t,s,a)},scale:.65}).setDepth(2).setMaxVelocity(0,0),this.nextBasket=new p({scene:this,x:580,y:340,key:"basket",callback:(e,t,s,a)=>{this.ball.fly(e,t,s,a)},scale:.65}).setDepth(2).setMaxVelocity(0,0),this.ball=new n({scene:this,x:125,y:740,key:"ball",scale:.12}).setDepth(1),this.input.on("pointerdown",this.onPointerDown,this),this.input.on("pointermove",this.onPointerMove,this),this.input.on("pointerup",this.onPointerUp,this)}onPointerDown(e){this.dragStart={x:e.x,y:e.y}}onPointerUp(e){if(this.dragStart){const t=Phaser.Math.Angle.Between(this.dragStart.x,this.dragStart.y,e.x,e.y),s=Phaser.Math.Distance.Between(this.dragStart.x,this.dragStart.y,e.x,e.y);this.curBasket.setScale(this.curBasket.scaleX,this.curBasket.scaleX),this.ball.fly(this.curBasket.x,this.curBasket.y,Math.PI-t,s),this.dragStart=null,this.shootAudio.play()}}onPointerMove(e){if(m&&this.dragStart){if(m=!1,e.isDown){const t=Phaser.Math.Angle.Between(this.dragStart.x,this.dragStart.y,e.x,e.y);this.curBasket.rotation=t-Math.PI/2;const s=Phaser.Math.Distance.Between(this.dragStart.x,this.dragStart.y,e.x,e.y);this.curBasket.setTrajectory(Math.max(50,50*s),Math.PI/2-this.curBasket.rotation),this.curBasket.setScale(this.curBasket.scaleX,Math.min(1.2*this.curBasket.scaleY,.9))}setTimeout((function(){m=!0}),300)}}update(){this.background.tilePositionY-=1,this.hitLowerBoundCameraHandler(),this.hitUpperBoundCameraHandler(),this.hitCurrentBasketHandler(),this.hitNextBasketHandler()}hitUpperBoundCameraHandler(){this.ball.y<50?(this.scoreText.setAlpha(0),this.pauseImg.setAlpha(0),this.starImg.setAlpha(0),this.cameras.main.setScroll(this.cameras.main.scrollX,this.ball.y-150)):(this.scoreText.setAlpha(1),this.pauseImg.setAlpha(1),this.starImg.setAlpha(1),this.cameras.main.stopFollow(),this.cameras.main.setScroll(0,0))}hitLowerBoundCameraHandler(){this.physics.world.on("worldbounds",((e,t,s,a,i)=>{if((a||i)&&this.bounceAudio.play(),s&&!this.isGameEnd){this.gameOverAudio.play(),this.scene.start("GameOverScene",{data:this.score});const e=localStorage.getItem("high-score");null==e?localStorage.setItem("high-score",this.score.toString()):localStorage.setItem("high-score",Math.max(parseInt(e),this.score).toString()),localStorage.setItem("star",((localStorage.getItem("star")?parseInt(localStorage.getItem("star")):0)+this.starCnt).toString()),this.isGameEnd=!0}}))}hitCurrentBasketHandler(){this.physics.overlap(this.ball,this.curBasket)&&Math.abs(this.ball.getBounds().bottom-this.curBasket.getBounds().top)<25&&(this.curBasket.reset(),this.ball.resetPosition(this.curBasket.x,this.curBasket.y),this.netAudio.play())}hitNextBasketHandler(){if(this.physics.overlap(this.ball,this.nextBasket)&&Math.abs(this.ball.getBounds().bottom-this.nextBasket.getBounds().top)<25){this.netAudio.play(),this.score+=1,this.curScoreText.text=this.score.toString(),this.ball.resetPosition(this.nextBasket.x,this.nextBasket.y),this.curBasket.resetPosition(this.star),this.nextBasket.resetPosition(this.ball),Math.abs(this.ball.getBounds().centerX-this.star.getBounds().centerX)<25&&(this.starCnt++,this.clickAudio.play(),this.scoreText.text=this.starCnt.toString());const e=this.curBasket;this.curBasket=this.nextBasket,this.nextBasket=e}}}class b extends Phaser.Scene{constructor(){super({key:"PauseScene"})}preload(){}create(){new c({scene:this,x:80,y:50,key:"settings",callback:()=>{this.scene.start("SettingScene",{data:"PauseScene"})},scale:.32}),new h({scene:this,x:630,y:50,key:"star",scale:.48}),new r({scene:this,x:680,y:50,msg:"0",style:{fontFamily:"MilkyHoney",fontSize:"45px",color:"black",strokeThickness:3}}),new r({scene:this,x:360,y:260,msg:"PAUSED",style:{fontSize:"100px",color:"#ababab",fontStyle:"bold"}}),new c({scene:this,x:360,y:390,key:"main-menu",callback:()=>{this.scene.start("StartScene")},scale:.32}),new c({scene:this,x:360,y:490,key:"customize",callback:()=>{},scale:.32}),new c({scene:this,x:360,y:590,key:"leader-board",callback:()=>{},scale:.32}),new c({scene:this,x:360,y:790,key:"resume",callback:()=>{this.scene.switch("PlayScene")},scale:.36})}}class k extends Phaser.Scene{constructor(){super({key:"GameOverScene"})}preload(){}create(e){this.cameras.main.fadeIn(500,0,0,0),new h({scene:this,x:630,y:50,key:"star",scale:.48}),new r({scene:this,x:680,y:50,msg:localStorage.getItem("star")||"0",style:{fontFamily:"MilkyHoney",fontSize:"45px",color:"black",strokeThickness:3}}),new r({scene:this,x:360,y:170,msg:"BEST SCORE",style:{fontSize:"50px",color:"#ffa500",fontStyle:"bold"}}),new r({scene:this,x:360,y:260,msg:localStorage.getItem("high-score"),style:{fontSize:"90px",color:"#ffa500",fontStyle:"bold"}}),new r({scene:this,x:360,y:420,msg:e.data.toString(),style:{fontSize:"180px",color:"#ababab",fontStyle:"bold"}}),new c({scene:this,x:360,y:640,key:"ad",callback:()=>{window.location.href="https://www.youtube.com/"},scale:.4}),new c({scene:this,x:210,y:840,key:"ig",callback:()=>{window.location.href="https://www.facebook.com/khasang0412/"},scale:.4}),new c({scene:this,x:360,y:840,key:"return",callback:()=>{this.scene.start("PlayScene")},scale:.4}),new c({scene:this,x:510,y:840,key:"settings",callback:()=>{this.scene.start("SettingScene",{data:"GameOverScene"})},scale:.32})}}const x=document.getElementById("game");class f extends Phaser.Scene{constructor(){super({key:"SettingScene"})}preload(){}create(e){new c({scene:this,x:50,y:45,key:"close",callback:()=>{this.scene.start(e.data)},scale:.2*1.5}),new r({scene:this,x:360,y:50,msg:"SETTINGS",style:{fontFamily:"MilkyHoney",fontSize:"45px",color:"#ababab"}}),new h({scene:this,x:630,y:50,key:"star",scale:.48}),new r({scene:this,x:680,y:50,msg:localStorage.getItem("star")||"0",style:{fontFamily:"MilkyHoney",fontSize:"45px",color:"black",strokeThickness:3}}),this.soundImgOn=new c({scene:this,x:360,y:540,key:"sound-on",callback:()=>{this.handleMuteSound()},scale:.2*1.5}).setAlpha(this.sound.mute?0:1),this.soundImgOff=new c({scene:this,x:360,y:540,key:"sound-off",callback:()=>{this.handleMuteSound()},scale:.2*1.5}).setAlpha(this.sound.mute?1:0),this.lightImgOn=new c({scene:this,x:360,y:420,key:"light-on",callback:()=>{this.handleToggleLight()},scale:.8}).setAlpha(x.style.backgroundColor==a?1:0),this.lightImgOff=new c({scene:this,x:360,y:420,key:"light-off",callback:()=>{this.handleToggleLight()},scale:.8}).setAlpha(x.style.backgroundColor==a?0:1)}handleMuteSound(){this.sound.mute?(this.sound.setMute(!1),this.soundImgOn.setAlpha(1),this.soundImgOff.setAlpha(0)):(this.sound.setMute(!0),this.soundImgOn.setAlpha(0),this.soundImgOff.setAlpha(1))}handleToggleLight(){x.style.backgroundColor===a?(x.style.backgroundColor="rgb(20, 24, 82)",this.lightImgOn.setAlpha(0),this.lightImgOff.setAlpha(1)):(x.style.backgroundColor=a,this.lightImgOn.setAlpha(1),this.lightImgOff.setAlpha(0))}}const S={type:Phaser.AUTO,parent:"game",transparent:!0,scale:{parent:"phaser-game",mode:Phaser.Scale.FIT,autoCenter:Phaser.Scale.CENTER_BOTH,width:720,height:1080},scene:[i,d,u,b,k,f],physics:{default:"arcade",arcade:{debug:!0,gravity:{y:400}}}};window.addEventListener("load",(()=>{new Phaser.Game(S)}))}},s={};function a(e){var i=s[e];if(void 0!==i)return i.exports;var o=s[e]={exports:{}};return t[e].call(o.exports,o,o.exports,a),o.exports}a.m=t,e=[],a.O=(t,s,i,o)=>{if(!s){var n=1/0;for(r=0;r<e.length;r++){for(var[s,i,o]=e[r],l=!0,h=0;h<s.length;h++)(!1&o||n>=o)&&Object.keys(a.O).every((e=>a.O[e](s[h])))?s.splice(h--,1):(l=!1,o<n&&(n=o));if(l){e.splice(r--,1);var c=i();void 0!==c&&(t=c)}}return t}o=o||0;for(var r=e.length;r>0&&e[r-1][2]>o;r--)e[r]=e[r-1];e[r]=[s,i,o]},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={179:0};a.O.j=t=>0===e[t];var t=(t,s)=>{var i,o,[n,l,h]=s,c=0;if(n.some((t=>0!==e[t]))){for(i in l)a.o(l,i)&&(a.m[i]=l[i]);if(h)var r=h(a)}for(t&&t(s);c<n.length;c++)o=n[c],a.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return a.O(r)},s=self.webpackChunktype_project_template=self.webpackChunktype_project_template||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))})();var i=a.O(void 0,[216],(()=>a(485)));i=a.O(i)})();